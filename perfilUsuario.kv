#:import dp kivy.metrics.dp
#:import get_color_from_hex kivy.utils.get_color_from_hex

<MyWidget>:
    orientation: "vertical"

    MDTopAppBar:
        title: "Perfil"
        elevation: 2
        md_bg_color: app.theme_cls.primary_color
        title_align: "left"

    BoxLayout:
        orientation: "vertical"
        padding: dp(24)
        spacing: dp(20)

        Widget:

        BoxLayout:
            orientation: "vertical"
            size_hint_y: None
            height: self.minimum_height
            spacing: dp(12)
            padding: 0, dp(10)

            RelativeLayout:
                size_hint: None, None
                size: dp(120), dp(120)
                pos_hint: {"center_x": 0.5}

                MDIcon:
                    icon: "account"
                    theme_text_color: "Custom"
                    text_color: 0.5, 0.5, 0.5, 1
                    halign: "center"
                    font_size: "64sp"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}

                    canvas.before:
                        Color:
                            rgba: 0.7, 0.7, 0.7, 1
                        Line:
                            width: dp(2)
                            circle: (self.center_x, self.center_y, dp(60))

                MDIconButton:
                    icon: "pencil"
                    size_hint: None, None
                    size: dp(40), dp(40)
                    md_bg_color: get_color_from_hex("#348a6f") 
                    icon_color: get_color_from_hex("#FFFFFF")
                    theme_icon_color: "Custom"
                    user_font_size: "20sp"
                    elevation: 3
                    pos_hint: {"right": 1, "y": 0}

               

        MDLabel:
            text: "José Pérez"
            halign: "center"
            font_style: "H6"
            theme_text_color: "Custom"
            text_color: 0, 0, 0, 1

        MDBoxLayout:
            orientation: "vertical"
            spacing: dp(16)

            # Editar perfil
            MDBoxLayout:
                spacing: dp(16)
                size_hint_y: None
                height: dp(40)

                MDIconButton:
                    icon: "account-edit"
                    size_hint: None, None
                    size: dp(40), dp(40)
                    md_bg_color: get_color_from_hex("#348a6f")
                    icon_color: get_color_from_hex("#FFFFFF")
                    theme_icon_color: "Custom"
                    user_font_size: "20sp"

                MDLabel:
                    text: "Editar perfil"
                    halign: "left"
                    valign: "middle"
                    theme_text_color: "Custom"
                    text_color: 0, 0, 0, 1

            # Cambiar contraseña
            MDBoxLayout:
                spacing: dp(16)
                size_hint_y: None
                height: dp(40)

                MDIconButton:
                    icon: "lock"
                    size_hint: None, None
                    size: dp(40), dp(40)
                    md_bg_color: get_color_from_hex("#348a6f") 
                    icon_color: get_color_from_hex("#FFFFFF")
                    theme_icon_color: "Custom"
                    user_font_size: "20sp"

                MDLabel:
                    text: "Cambiar contraseña"
                    halign: "left"
                    valign: "middle"
                    theme_text_color: "Custom"
                    text_color: 0, 0, 0, 1

            # Eliminar cuenta
            MDBoxLayout:
                spacing: dp(16)
                size_hint_y: None
                height: dp(40)

                MDIconButton:
                    icon: "trash-can"
                    size_hint: None, None
                    size: dp(40), dp(40)
                    md_bg_color: get_color_from_hex("#ff3131") 
                    icon_color: get_color_from_hex("#FFFFFF")
                    theme_icon_color: "Custom"
                    user_font_size: "20sp"

                MDLabel:
                    text: "Eliminar cuenta"
                    halign: "left"
                    valign: "middle"
                    theme_text_color: "Custom"
                    text_color: 0, 0, 0, 1

        Widget:

        MDRoundFlatButton:
            text: "Cerrar sesión"
            md_bg_color: get_color_from_hex("#348a6f") 
            text_color: get_color_from_hex("#FFFFFF")
            line_color: 0, 0, 0, 0 
            size_hint_x: 1
            radius: [dp(24)]
            padding: dp(10)
