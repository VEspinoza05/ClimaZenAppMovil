#:import get_color_from_hex kivy.utils.get_color_from_hex

<ProgressCard@MDCard>:
    image_path: ""
    title_text: ""
    subtitle_text: ""
    progress_value: 0

    canvas.before:
        Color:
            rgba: 0.5, 0.5, 0.5, 1  # Color del borde (negro)
        RoundedRectangle:
            pos: self.x - dp(2), self.y - dp(2)  # Ajusta la posición del borde
            size: self.width + dp(4), self.height + dp(4)  # Ajusta el tamaño del borde
            radius: [dp(10), dp(10), dp(10), dp(10)]  

    size_hint_x: 1
    size_hint_y: None
    height: dp(120)
    padding: dp(16)
    radius: dp(10) 
    orientation: 'vertical'

    BoxLayout:
        orientation: 'horizontal'
        size_hint_x: 1
        size_hint_y: 0.8

        BoxLayout:
            size_hint_x: None
            width: 100
            size_hint_y: 1

            Image:
                source: root.image_path
                allow_stretch: True
                keep_ratio: True

        BoxLayout:
            orientation: 'vertical'
            size_hint_x: 1
            size_hint_y: 1

            MDLabel:
                text: root.title_text
                theme_text_color: "Primary"

            MDLabel:
                text: "Creado por: " + root.subtitle_text
                theme_text_color: "Primary"       

            BoxLayout:
                orientation: "horizontal"
                size_hint_x: 1
                size_hint_y: None
                height: dp(20)
                        
                MDProgressBar:
                    id: progress_bar
                    value: root.progress_value
                    max: 100
                    pos_hint: {"center_y": 0.5}
                    size_hint_y: 1
                    size_hint_x: 1
                    color: 0, 0.6, 0.4, 1
                    radius: [20]

                MDLabel:
                    text: str(root.progress_value) + " %"
                    theme_text_color: "Primary"
                    size_hint_x: None
                    width: 50
                    padding: [1,0,0,0]

<MiniCursos>:
    name: "Minicursos"

    ScrollView:
        MDList:
            id: cursos_lista
            padding: dp(16)

            ProgressCard: 
                image_path: "./Assets/botellas.png"
                title_text: "Manualidades con botellas"
                subtitle_text: "Juan"
                progress_value: 20 
                        
    MDRoundFlatButton:
        text: "Mas Cursos"
        size_hint_x: 1
        font_size: 21
        pos_hint: {"center_x":0.5}       
        md_bg_color: get_color_from_hex("#348a6f")
        text_color: get_color_from_hex("#ffffff")